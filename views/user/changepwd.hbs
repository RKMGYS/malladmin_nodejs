<ol class="breadcrumb">
    <li>用户管理</li>
    <li class="active">修改密码</li>
</ol>

{{> operationresult}}

<form id="loginForm" method="post" action="/user/changepwd">
    <div class="form-horizontal">
        <div class="table-title">修改密码</div>
        <hr />
        <div class="form-group">
            <lable class="control-label col-md-2">原始密码：</lable>
            <div class="col-md-4">
                <input type="password" class="form-control" id="oldpassword" name="oldpassword">
            </div>
            <div class="form-control-static"></div>
        </div>
        <div class="form-group">
            <lable class="control-label col-md-2">新密码：</lable>
            <div class="col-md-4">
                <input type="password" class="form-control" id="newpassword" name="newpassword">
            </div>
            <div class="form-control-static"></div>
        </div>
        <div class="form-group">
            <lable class="control-label col-md-2">确认新密码：</lable>
            <div class="col-md-4">
                <input type="password" class="form-control" id="confirmpassword" name="confirmpassword">
            </div>
            <div class="form-control-static"></div>
        </div>
        <div class="form-group">
            <div class="col-md-offset-2 col-md-4">
                <input type="submit" value="确定" class="btn btn-primary" />
                <input type="button" value="返回" class="btn btn-default" onclick="window.history.back();" />
            </div>
        </div>
    </div>
</form>

{{#contentFor 'scripts'}}
<script src="/javascripts/jquery.validate.min.js"></script>
<script>
    $(function () {
        $("#loginForm").validate({
            submitHandler: function (form) {
                form.submit();
            },
            rules: {
                oldpassword: {
                    required: true,
                    maxlength: 50
                },
                newpassword: {
                    required: true,
                    maxlength: 50
                },
                confirmpassword: {
                    equalTo: "#newpassword"
                }
            },
            messages: {
                oldpassword: {
                    required: "*",
                    maxlength: "最大字符长度为50"
                },
                newpassword: {
                    required: "*",
                    maxlength: "最大字符长度为50"
                },
                confirmpassword: {
                    equalTo: "两次输入的密码必须相同"
                }
            },
            errorPlacement: function (error, element) {
                error.appendTo(element.parent().next());
            }
        });
    });
</script>
{{/contentFor}}